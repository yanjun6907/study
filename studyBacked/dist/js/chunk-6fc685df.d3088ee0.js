(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc685df"],{"2e68":function(t,e,n){"use strict";n.r(e);var a=n("de11"),i=n("8334");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("fd10");var l=n("2877"),r=Object(l["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"3f9b":function(t,e){t.exports={data(){return{pages:this.cont.pages,input:this.cont.videoTable,input2:this.cont.videoSearch}},created(){this.reset(),this.load.openFullScreen()},methods:{getSearch(){this.pages.page=1,this.getList()},async getList(){this.input2.page=this.pages.page,this.input2.size=this.pages.size;const{data:t}=await this.$http.postVideoList(this.input2);this.input=t.data.list,this.pages.totalSize=t.data.totalSize},videoIncrease(){this.$router.push("/videoEdit")},handleIncrease(t){this.$router.push({path:"/videoInrease",query:{id:t}}),console.log(t)},handleEdit(t){this.$router.push({path:"/videoEdit",query:{id:t}}),console.log(t)},handleDelete(t){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{this.$http.delVideo(t).then(t=>{0==t.data.code&&(this.getList(),this.$message({type:"success",message:"删除成功",center:!0}))})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},handleStatus(t,e){let n="status="+(e=1==e?0:1);this.$confirm(""+(1==e?"是否上架?":"是否下架?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{this.$http.videoStatus(t,n).then(t=>{0==t.data.code?(this.getList(),this.$message({type:"success",message:""+(1==e?"已上架":"已下架"),center:!0})):3207==t.data.code&&this.$message({type:"warning",message:"已上架 banner 超过 8 个",center:!0})})}).catch(()=>{this.$message({type:"info",message:""+(1==e?"已取消上架":"已取消下架"),center:!0})})},reset(){for(let t in this.input2)this.input2[t]="";this.pages.page=1,this.pages.size=10,this.getList()},handleSizeChange(t){this.pages.size=t,this.getList()},handleCurrentChange(t){this.pages.page=t,this.getList()}}}},"5f23":function(t,e,n){},8334:function(t,e,n){"use strict";n.r(e);var a=n("3f9b"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},de11:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"meu-top"},[n("div",{staticStyle:{display:"flex",margin:"15px"}},[n("label",[t._v("标 题: "),n("el-input",{staticStyle:{width:"200px"},model:{value:t.input2.title,callback:function(e){t.$set(t.input2,"title",e)},expression:"input2.title"}})],1),n("label",[t._v("分 类: "),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:t.input2.type,callback:function(e){t.$set(t.input2,"type",e)},expression:"input2.type"}},t._l(t.cont.videoType,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("label",[t._v("点 赞: "),n("el-input",{staticStyle:{width:"150px"},attrs:{type:"number"},on:{change:function(e){return t.load.inputEnd()}},model:{value:t.input2.greatStart,callback:function(e){t.$set(t.input2,"greatStart",e)},expression:"input2.greatStart"}}),t._v(" ~ "),n("el-input",{staticStyle:{width:"150px"},attrs:{type:"number"},on:{change:function(e){return t.load.inputEnd()}},model:{value:t.input2.greatEnd,callback:function(e){t.$set(t.input2,"greatEnd",e)},expression:"input2.greatEnd"}})],1)]),n("div",{staticStyle:{display:"flex",margin:"15px"}},[n("label",[t._v("科 目: "),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:t.input2.subject,callback:function(e){t.$set(t.input2,"subject",e)},expression:"input2.subject"}},t._l(t.cont.subject,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("label",[t._v("老 师: "),n("el-input",{staticStyle:{width:"200px"},model:{value:t.input2.teacherName,callback:function(e){t.$set(t.input2,"teacherName",e)},expression:"input2.teacherName"}})],1),n("label",[t._v("收 藏: "),n("el-input",{staticStyle:{width:"150px"},attrs:{type:"number"},on:{change:function(e){return t.load.inputEnd()}},model:{value:t.input2.favouriteStart,callback:function(e){t.$set(t.input2,"favouriteStart",e)},expression:"input2.favouriteStart"}}),t._v(" ~ "),n("el-input",{staticStyle:{width:"150px"},attrs:{type:"number"},on:{change:function(e){return t.load.inputEnd()}},model:{value:t.input2.favouriteEnd,callback:function(e){t.$set(t.input2,"favouriteEnd",e)},expression:"input2.favouriteEnd"}})],1)]),n("div",{staticStyle:{display:"flex",margin:"15px"}},[n("label",[t._v("年 级: "),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:t.input2.grade,callback:function(e){t.$set(t.input2,"grade",e)},expression:"input2.grade"}},t._l(t.cont.grade,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("label",[t._v("状 态: "),n("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:t.input2.status,callback:function(e){t.$set(t.input2,"status",e)},expression:"input2.status"}},t._l(t.cont.Status2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"menu-but"},[n("el-button",{attrs:{size:"mini",plain:""},on:{click:function(e){return t.reset()}}},[t._v("重置")]),n("el-button",{staticStyle:{"margin-right":"-15px"},attrs:{size:"mini",plain:"",icon:"el-icon-search"},on:{click:function(e){return t.getSearch()}}},[t._v("查找")])],1)])]),n("div",{staticClass:"menuBottom"},[n("span",{staticClass:"list-title"},[t._v(" 视频管理 "),n("el-button",{staticStyle:{float:"right",margin:"10px 0"},attrs:{size:"mini"},on:{click:t.videoIncrease}},[t._v("+新增")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.input,border:""}},[n("el-table-column",{attrs:{label:"I D",type:"index",width:"70",align:"center"}}),n("el-table-column",{attrs:{label:"标题",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.title?n("div",[e.row.title.length>14?n("el-popover",{attrs:{width:"200",placement:"top",trigger:"hover"}},[n("span",[t._v(t._s(e.row.title))]),n("span",{staticStyle:{curosr:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.title.slice(0,14)+"..."))])]):n("div",[t._v(t._s(e.row.title))])],1):n("div",[t._v("--")])]}}])}),n("el-table-column",{attrs:{label:"老师",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.teacherName?n("div",[e.row.teacherName.length>5?n("el-popover",{attrs:{placement:"top",trigger:"hover"}},[n("span",[t._v(t._s(e.row.teacherName))]),n("span",{staticStyle:{curosr:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.teacherName.slice(0,5)+"..."))])]):n("div",[t._v(t._s(e.row.teacherName))])],1):n("div",[t._v("--")])]}}])}),n("el-table-column",{attrs:{label:"分类",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("status6")(e.row.type)))])]}}])}),n("el-table-column",{attrs:{label:"年级",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("status5")(e.row.grade)))])]}}])}),n("el-table-column",{attrs:{label:"科目",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("status4")(e.row.subject)))])]}}])}),n("el-table-column",{attrs:{label:"收藏",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.favourite))])]}}])}),n("el-table-column",{attrs:{label:"点赞",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.great))])]}}])}),n("el-table-column",{attrs:{label:"时间",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("times")(e.row.updateAt)))])]}}])}),n("el-table-column",{attrs:{label:"状态",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("status2")(e.row.status)))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"text"},on:{click:function(n){return t.handleIncrease(e.row.id)}}},[t._v("查看")]),n("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(n){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),n("el-button",{style:1==e.row.status?"color:red":"",attrs:{size:"mini",type:"text"},on:{click:function(n){return t.handleStatus(e.row.id,e.row.status)}}},[t._v(t._s(1==e.row.status?"下架":"上架"))]),n("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),n("div",{staticStyle:{margin:"10px","text-align":"center"}},[n("el-pagination",{attrs:{background:!0,"current-page":t.pages.page,"page-sizes":[1,2,3,4,5,6,7,8,9,10,20,30,40],"page-size":t.pages.size,layout:" sizes, prev, pager, next, jumper",total:t.pages.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},i=[]},fd10:function(t,e,n){"use strict";var a=n("5f23"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-6fc685df.d3088ee0.js.map
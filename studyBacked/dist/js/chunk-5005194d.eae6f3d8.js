(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5005194d"],{"154a":function(t,e,a){},3557:function(t,e,a){"use strict";a.r(e);var s=a("f5ed"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},9997:function(t,e,a){"use strict";var s=a("154a"),i=a.n(s);i.a},"9bc33":function(t,e,a){"use strict";a.r(e);var s=a("f33f"),i=a("3557");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("9997");var r=a("2877"),l=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=l.exports},f33f:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"meu-top"},[a("div",{staticClass:"list-title"},[t._v(" 查看帖子 "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.resetForm()}}},[t._v("返回")])],1),a("div",{staticClass:"mainContent"},[a("p",[t._v(t._s(t.readTopic.title))]),a("div",{staticClass:"userInfo"},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.readUser.head}}),a("div",{staticClass:"userName"},[a("div",{staticStyle:{"font-size":"17px"}},[t._v(t._s(t.readUser.nickName))]),a("div",{staticStyle:{"font-size":"12px",color:"gray"}},[t._v(t._s(t._f("times")(t.readUser.createAt)))])])]),a("p",{staticStyle:{border:"none","font-size":"14px","line-height":"20px"}},[t._v(t._s(t.readTopic.content))]),a("div",{staticClass:"image"},[a("img",{attrs:{src:t.readTopic.img}})])])]),a("div",{staticClass:"meu-bottom"},[a("span",{staticClass:"list-title"},[t._v(" 全部评论("+t._s(t.pages.totalSize)+") ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table,border:""}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1)+"楼")])]}}])}),a("el-table-column",{attrs:{label:"评论者",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nickName))])]}}])}),a("el-table-column",{attrs:{label:"评论",align:"center",width:"300","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.content))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"red"},attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),a("div",{staticStyle:{margin:"10px","text-align":"center"}},[a("el-pagination",{attrs:{background:!0,"current-page":t.pages.page,"page-sizes":[1,2,3,4,5,6,7,8,9,10,20,30,40],"page-size":t.pages.size,layout:" sizes, prev, pager, next, jumper",total:t.pages.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},i=[]},f5ed:function(t,e){t.exports={data(){return{table:this.cont.remarkTable,pages:this.cont.pages,readTopic:{},readUser:{}}},created(){this.load.openFullScreen();let t=this.$route.query.id;return t&&(this.getEdit(t),this.getList(t)),!1},methods:{async getEdit(t){const{data:e}=await this.$http.getLeaveArticle(t);this.readTopic=e.data.topic,this.readUser=e.data.user},async getList(t){let e=`id=${t}&page=${this.pages.page}&size=${this.pages.size}`;const{data:a}=await this.$http.postLeaveremark(e);this.table=a.data.list,this.pages.totalSize=a.data.totalSize},handleDelete(t){console.log(t),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(()=>{this.$http.deleteRemark(t).then(t=>{1302==t.data.code&&(this.getList(),this.$message({type:"success",message:"删除成功",center:!0}))})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},resetForm(){this.$router.push("/topic")},handleSizeChange(t){let e=this.$route.query.id;this.pages.size=t,this.getList(e)},handleCurrentChange(t){let e=this.$route.query.id;this.pages.pages=t,this.getList(e)}}}}}]);
//# sourceMappingURL=chunk-5005194d.eae6f3d8.js.map